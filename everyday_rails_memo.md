# Everyday Rails - RSpecによるRailsテスト入門
## モデルスペック
モデルはアプリケーションのコアとなる部分であり、モデルのテストを十分に行うことで、土台が堅牢になり、信頼性の高いコードベースを構築できる
### モデルスペックの作成
Railsのジェネレータを使用して生成できる。必ずジェネレータを使用する必要はないが、タイプミスによるエラーを防ぐために、使用する方が良い
- `bin/rails g rspec:model user`

## テスト全般
- 起きて欲しいことと、起きてほしくないことをテストする
- 境界値をテストする
- 可読性を上げる
- テストはアプリケーションの要件とコードを熟考する良い機会
- テストはDRYよりも読みやすいことの方が重要
### マッチャ
- be_valid
  - バリデーションを通るか
- eq
  - 後に続く条件と同じ結果か
- include
  - 後に続く要素を含むか
- be_empty
  - 要素が空かどうか
### describeとcontextの使い分け
describeとcontextはエイリアスでありどちらを用いても動作は変わらないが、スペックの可読性を考慮し使い分ける
- describeはクラスやシステムの機能に関するアウトラインを記述
- contextは特定の状態に関するアウトラインを記述
### bofore
- before(:each)
  - 各テストの前に実行
- before(:all)
  - 全テストの前に1回だけ実行
- before(:suite)
  - テスト全体（全ファイル）の前に1回だけ実行

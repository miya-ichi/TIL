# プロを目指す人のためのRuby入門
## 第1章
irbの入力に日本語が使えるようにしたい。まだできていない。  
rbenvをインストールしたのちRubyの2.4.10を試しに入れようとしたがビルドエラーが出てインストール失敗。環境がM1Macだからだろうか？詳細未確認
## 第2章
### 改行について
改行で文の区切りになるが、セミコロンで明示的に区切ることもできる。一行に複数の処理を書く場合に使ったりする。  
(で改行する場合は)を書くまで改行してもエラーにならない。  
明示的に改行を表す場合は/を使う。
### コメントについて
複数行のコメントでも#を使うことが多い。  
テキストエディタの機能で一気にコメントアウトすることができる。VSCodeは範囲選択→`command+/`
### 変数について
変数は宣言と同時に何かしら代入する必要がある。  
小文字のスネークケースでかく  
複数同時に代入することも可能（多重代入）だが理解しづらくなるため特別な理由がなければ避ける `a, b = 1, 2`
### 数値について
数値には_を含めることができる。_は無視されるため、桁の区切りに使うことができる。  
例 1_000_000  
小数を扱う際は丸め誤差に注意。Rational(有理数)クラスを活用。  
### 真偽値・条件分岐
false・nil以外は真これ大事！  
論理演算子の優先順位（上にあるものが高い）
```
!
&&
||
not
and/or
```
優先順位は他の演算子の様に()で囲うことで変えられる  
if文は`if 条件式 then 処理`とthenを使って一行で書くこともできる
条件式は全体が真か偽に確定するまで左から順に評価していく  

case文のwhenの後には、複数の条件を書くことも可能（どれかに当てはまっていれば処理が実行される）

条件演算子（三項演算子）  
`式 ? 真だった場合の処理 : 偽だった場合の処理`  
簡単なif文だったら置き換えることで可読性が上がる。  

### 文字列
%記法  
%qで始めるとシングルクオートで囲ったのと同じ扱い  
%Qで始めるとダブルクオートで囲ったのと同じ扱い  
ヒアドキュメント（行指向文字列リテラル）  
```
<<識別子
ヒアドキュメントを使うことで
複数行にわたる文字列を
見やすく書くことができる
識別子はテキスト内に出てこないものにする
識別子
```
ヒアドキュメントは式の一つである。  
ヒアドキュメントをメソッドの引数にすることもできる（書き方が変な感じ）
### ガベージコレクション
使用されなくなったオブジェクトを回収し、自動でメモリを開放する仕組み
### エイリアスメソッド
機能が全く同じで、名前が異なるメソッドのこと。
### 参照
変数はオブジェクトへの参照を格納している  
変数を別の変数に代入すると、別の変数が同じオブジェクトへの参照を持つ  
なので、オブジェクトに変更を加えた場合はそれぞれの変数が影響を受ける
## 第3章
### テスティングフレームワーク
コードのテストを自動化する仕組み。Rubyのライブラリとして導入
- Minitest  
- RSpec
- test-unit
## 第4章
### ブロック
非常によく使われる。メソッドに引数として渡される処理の塊。  
`do 〜 end`で囲まれた処理の塊。  
ブロック内で定義した変数はブロック内でのみ有効。  
ブロック外とブロック内で同じ名前の変数を定義した場合は、ブロック内のものが優先される。  
{}でもブロックを記述できる。  
長いブロックを書く場合はdo end、1行のブロックは{}を使うことが多い
### 配列を使った多重代入
`a, b = [1, 2]`でaに1、bに2が代入される
### ブロックを使う配列のメソッド
- map:ブロック内の処理結果を代入した新しい配列を作る
- select:ブロック内の条件を満たした値を代入した新しい配列を作る
- reject:ブロック内の条件を満たさない値を代入した新しい配列を作る
- inject:たたみ込み演算を行う。なんかすごい  

map(&:upcase)のような省略した書き方がある。書ける条件が決まっている。
### 範囲オブジェクト
最初の値..最後の値（最後の値を含む）  
最初の値...最後の値（最後の値を含まない）  
配列から一定範囲を抜き出す時に便利 `a[2..4] => [3, 4, 5]`
